local Players = game:GetService("Players")
local TweenService = game:GetService("TweenService")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local SoundService = game:GetService("SoundService")

local player = Players.LocalPlayer
local playerGui = player:WaitForChild("PlayerGui")

-- Tạo ScreenGui chứa toàn bộ UI
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "FakeBanSequenceGui"
screenGui.ResetOnSpawn = false
screenGui.Parent = playerGui

-- Màn hình trắng full màn hình
local whiteScreen = Instance.new("Frame")
whiteScreen.Size = UDim2.new(1,0,1,0)
whiteScreen.BackgroundColor3 = Color3.new(1,1,1)
whiteScreen.BackgroundTransparency = 0
whiteScreen.Parent = screenGui

-- UI fake ban (ẩn trước)
local fakeBanUI = Instance.new("Folder")
fakeBanUI.Name = "FakeBanUI"
fakeBanUI.Parent = screenGui
fakeBanUI.Enabled = false -- Dùng để lưu tạm UI, sẽ bật sau

-- Fake Ban UI Elements
local bg = Instance.new("Frame")
bg.Size = UDim2.new(1,0,1,0)
bg.BackgroundColor3 = Color3.fromRGB(0,0,0)
bg.BackgroundTransparency = 0.5
bg.Parent = fakeBanUI

local banLabel = Instance.new("TextLabel")
banLabel.Size = UDim2.new(0.6,0,0.2,0)
banLabel.Position = UDim2.new(0.2,0,0.4,0)
banLabel.BackgroundTransparency = 1
banLabel.TextColor3 = Color3.fromRGB(255, 0, 0)
banLabel.TextStrokeColor3 = Color3.new(0,0,0)
banLabel.TextStrokeTransparency = 0
banLabel.Font = Enum.Font.Arcade
banLabel.TextScaled = true
banLabel.Text = "You have been banned from this experience"
banLabel.Parent = fakeBanUI

local detailLabel = Instance.new("TextLabel")
detailLabel.Size = UDim2.new(0.8,0,0.1,0)
detailLabel.Position = UDim2.new(0.1,0,0.62,0)
detailLabel.BackgroundTransparency = 1
detailLabel.TextColor3 = Color3.fromRGB(255, 255, 255)
detailLabel.TextStrokeColor3 = Color3.new(0,0,0)
detailLabel.TextStrokeTransparency = 0
detailLabel.Font = Enum.Font.SourceSansBold
detailLabel.TextScaled = true
detailLabel.Text = "Appeal at https://www.roblox.com/support"
detailLabel.Parent = fakeBanUI

-- Flash effect (nhấp nháy trắng đen) trên màn hình trắng
local flashTweenInfo = TweenInfo.new(0.3, Enum.EasingStyle.Sine, Enum.EasingDirection.InOut, -1, true)
local flashTween = TweenService:Create(whiteScreen, flashTweenInfo, {BackgroundTransparency = 0.7})

-- Tạo âm thanh jumpscare (tự thêm URL âm thanh bạn thích)
local jumpscareSound = Instance.new("Sound")
jumpscareSound.SoundId = "rbxassetid://9118822105" -- Ví dụ âm thanh jumpscare to (bạn đổi ID này nếu muốn)
jumpscareSound.Volume = 1
jumpscareSound.Looped = true
jumpscareSound.Parent = SoundService

-- Khoá input để người chơi không thoát UI
local function blockInput()
    UserInputService.InputBegan:Connect(function(input, processed)
        if not processed then
            -- Không làm gì, chặn input
            if screenGui.Parent then
                -- Nothing
            end
        end
    end)
    UserInputService.InputChanged:Connect(function(input, processed)
        if not processed then
            if screenGui.Parent then
                -- Nothing
            end
        end
    end)
    UserInputService.InputEnded:Connect(function(input, processed)
        if not processed then
            if screenGui.Parent then
                -- Nothing
            end
        end
    end)
end

blockInput()

-- Bắt đầu sequence:
-- 1. Flash màn hình trắng + âm thanh jumpscare 10 giây
whiteScreen.BackgroundTransparency = 0
flashTween:Play()
jumpscareSound:Play()

wait(10)

-- 2. Dừng flash + âm thanh + ẩn màn hình trắng
flashTween:Cancel()
jumpscareSound:Stop()
whiteScreen.BackgroundTransparency = 1

-- 3. Hiện fake ban UI
fakeBanUI.Enabled = true
for _, v in pairs(fakeBanUI:GetChildren()) do
    if v:IsA("GuiObject") then
        v.Visible = true
    end
end

-- 4. Đợi 5 giây rồi thoát game
wait(5)
game:Shutdown()
